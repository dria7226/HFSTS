#define PROGRAM_CODE 1
#define SOURCE_VECTOR 7
#define DESTINATION_VECTOR 31
#define DATA_VECTOR 30


#define COPY_PROGRAM 2
#define LOOP_START COPY_PROGRAM+13
#define LOOP_END COPY_PROGRAM+37
#define VECTOR_ITER LOOP_START + 11

DATA_TYPE test_program[] = {

  RESIZE_PROGRAM, 2,

//-------------------------------------
  SET_DESTINATION, DATA_VECTOR,
  GET_ARRAY_CAPACITY, 7, 1,
  SUBTRACT_CONSTANT, 1, 1,

  SET_SOURCE, DATA_VECTOR,
  COPY, 1, 2,

//loop start

  COPY_DATA_TO_PROGRAM, 2, VECTOR_ITER,
  COPY_DATA_TO_PROGRAM, 2, VECTOR_ITER+1,

  SET_DESTINATION, DESTINATION_VECTOR,
  SET_SOURCE, SOURCE_VECTOR,
  COPY, 0, 0,

  SET_DESTINATION, DATA_VECTOR,
  SUBTRACT_CONSTANT, 2, 1,

  //decide to loop back or jump out

  SET_SOURCE, DATA_VECTOR,
  GO_IF, LOOP_END, UNDERFLOW,
  GO_TO, LOOP_START,

  EXIT
};
